<div class="dashboard-container">
  <div class="bath-content-section">
    <% if notice %>
      <p class="alert alert-success" role="alert">
        <%= notice %>
      </p>
    <% end %>
    <h1>Banhos de <%= @pet.name %></h1>
    <div class="bath-actions">
      <%= link_to "Voltar para o Pet", user_path(@pet.user), class: "btn btn-secondary-custom", data: { turbo: false } %>
      <%= link_to 'Cadastrar Novo Banho', new_pet_bath_path(@pet) , class: "btn btn-primary-custom" %>
    </div>
    <div class="d-flex justify-content-end mb-2">
      <span class="badge rounded-pill text-white py-2 px-3 fw-semibold" 
        style="background: var(--gradient-primary);">
        <%= @baths.count %> <%= @baths.count == 1 ? 'banho' : 'banhos' %>
      </span>
    </div>
    <% if @baths.present? %>
      <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
          <thead class="table-light">
            <tr>
              <th>Data e Hora</th>
              <th>Tosa</th>
              <th>Preço</th>
              <th>Observações</th>
              <th class="text-end" colspan="3">Ações</th>
            </tr>
          </thead>
          <tbody>
            <% @baths.each do |bath| %>
              <tr>
                <td><%= bath.date.strftime('%d/%m/%Y %H:%M') %></td>
                <td><%= bath.tosa ? "Sim" : "Não" %></td>
                <td><%= number_to_currency(bath.price, unit: "R$", separator: ",", delimiter: ".", format: "%u %n") %></td>
                <td><%= bath.notes.presence || "-" %></td>
                <td style="width: 90px;">
                  <%= link_to 'Mostrar', bath, class: "btn btn-sm btn-outline-secondary w-100" %>
                </td>
                <td style="width: 90px;">
                  <%= link_to 'Editar', edit_bath_path(bath), class: "btn btn-sm btn-outline-primary w-100" %>
                </td>
                <td style="width: 90px;">
                  <%= button_to 'Excluir', bath, method: :delete, 
                        data: { confirm: 'Tem certeza que deseja excluir o registro?' },
                        class: "btn btn-sm btn-outline-danger w-100" %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <div class="alert alert-light text-center" role="alert">
        Você ainda não cadastrou nenhum banho e tosa.
      </div>
    <% end %>
  </div>
</div>