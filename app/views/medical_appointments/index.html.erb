<h1>Consultas do <%= @pet.name %></h1>

<p>
  <%= link_to "Voltar para o Pet", user_path(@pet.user), class: "btn btn-secondary", data: { turbo: false } %>
</p>

<div class="pets-counter">
  <%= @medical_appointments.count %> <%= @medical_appointments.count == 1 ? 'appointment' : 'appointments' %>
</div>

<% if @medical_appointments.present? %>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Nome do Veterinário</th>
        <th>Data e hora da Consulta</th>
        <th>Endereço da Clínica</th>
        <th>Observação</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <% @medical_appointments.each do |medical_appointment| %>
        <tr>
          <td><%= medical_appointment.veterinarian_name %></td>
          <td><%= medical_appointment.appointment_date.strftime('%d/%m/%Y %H:%M') %></td>
          <td><%= medical_appointment.clinic_address %></td>
          <td><%= medical_appointment.notes %></td>
          <td>
            <%= link_to "Visualizar", pet_medical_appointment_path(@pet, medical_appointment), class: "btn btn-info btn-sm" %>
            <%= link_to "Editar Consulta", edit_pet_medical_appointment_path(@pet, medical_appointment), class: "btn btn-warning btn-sm" %>
            <%= link_to "Excluir Consulta",
                         pet_medical_appointment_path(@pet, medical_appointment),
                         data: { turbo_method: :delete, turbo_confirm: "Tem certeza que deseja excluir?" },
                         class: "btn btn-danger btn-sm" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>Não há consultas cadastradas para este pet.</p>
<% end %>

<p>
  <%= link_to "Nova Consulta", new_pet_medical_appointment_path(@pet), class: "btn btn-success" %>
</p>