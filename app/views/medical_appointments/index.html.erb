<div class="dashboard-container">
 <div class="appointment-content-section">
   <% if notice %>
     <p class="alert alert-success" role="alert">
       <%= notice %>
     </p>
   <% end %>
   <h1>Consultas do <%= @pet.name %></h1>
   <div class="appointment-actions">
     <%= link_to "Voltar para o Pet", user_path(@pet.user), class: "btn btn-secondary-custom", data: { turbo: false } %>
     <%= link_to 'Cadastrar Nova Consulta', new_pet_medical_appointment_path(@pet) , class: "btn btn-primary-custom" %>
   </div>
   <div class="d-flex justify-content-end mb-2">
     <span class="badge rounded-pill text-white py-2 px-3 fw-semibold"
       style="background: var(--gradient-primary);">
       <%= @medical_appointments.count %> <%= @medical_appointments.count == 1 ? 'appointment' : 'appointments' %>
     </span>
   </div>
   <% if @medical_appointments.present? %>
     <div class="table-responsive">
       <table class="table table-striped table-hover align-middle">
         <thead class="table-light">
           <tr>
             <th>Data e Hora da Consulta</th>
             <th>Nome do Veterinário</th>
             <th>Endereço da Clínica</th>
             <th>Observação</th>
             <th class="text-end" colspan="3">Ações</th>
           </tr>
         </thead>
         <tbody>
           <% @medical_appointments.each do |medical_appointment| %>
             <tr>
               <td><%= medical_appointment.appointment_date.strftime('%d/%m/%Y %H:%M') %></td>
               <td><%= medical_appointment.veterinarian_name %></td>
               <td><%= medical_appointment.clinic_address %></td>
               <td><%= medical_appointment.notes %></td>
               <td style="width: 90px;">
                 <%= link_to 'Visualizar', pet_medical_appointment_path(@pet, medical_appointment), class: "btn btn-sm btn-outline-secondary w-100" %>
               </td>
               <td style="width: 90px;">
                 <%= link_to 'Editar', edit_pet_medical_appointment_path(@pet, medical_appointment), class: "btn btn-sm btn-outline-primary w-100" %>
               </td>
               <td style="width: 90px;">
                 <%= link_to 'Excluir', pet_medical_appointment_path(@pet, medical_appointment),
                       data: { turbo_method: :delete, turbo_confirm: "Tem certeza que deseja excluir?" },
                       class: "btn btn-sm btn-outline-danger w-100" %>
               </td>
             </tr>
           <% end %>
         </tbody>
       </table>
     </div>
   <% else %>
     <div class="alert alert-light text-center" role="alert">
       Não há consultas cadastradas para este pet.
     </div>
   <% end %>
 </div>
</div>